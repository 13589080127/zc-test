@startuml
title:转账限额
autonumber
APP->APP:输入金额 点击转账
APP->APPS:查询付款方式
note left:转账金额（USD）\ntoken (查询收款人信息返回的token)
APPS->APPS:校验token的有效性
alt token超时
APPS-->APP:返回操作超时
else token 存在
APPS->APPS:重置token的有效时间
APPS->APPS:查询当前用户的的默认卡号信息
alt 默认卡号不存在
APPS->APPS:打印error 级别日志
APPS-->APP:返回卡号不存在
else 存在默认卡号
APPS->APPS:查询卡余额信息
APPS->APPS:判断卡余额是否大于转账金额
alt 余额小于转账金额
APPS-->APPS:设置
else 余额大于转账金额
end
end






end


@enduml